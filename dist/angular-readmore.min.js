/**
 * AngularJS 1.x library to cut text and provide a read more/ellipsis
 * @version v1.0.3 - 2016-09-26
 * @link http://github.com/laffer1/angular-readmore
 * @author Lucas Holt <luke@foolishgames.com>,Joyce Cam
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(){"use strict";function a(){return{restrict:"A",transclude:!0,replace:!0,template:"<p></p>",scope:{moreText:"@",lessText:"@",words:"@",ellipsis:"@",char:"@",limit:"@",content:"@"},link:function(a,b,c,d,e){function f(a){if("undefined"!=typeof a&&null!==a){var d=a,e=/\s+/gi,f=a.length,k=a.trim().replace(e," ").split(" ").length,l="char",m=f,n=[],o=a,p="",q='<span class="ellipsis">'+i+"</span>";angular.isUndefined(c.words)||(l="words",m=k),"words"===l?(n=a.split(/\s+/),n.length>j&&(a=n.slice(0,j).join(" "),p=n.slice(j,m).join(" "),o=a+q+g+'<span class="more-text">'+p+h+"</span>")):m>j&&(a=d.slice(0,j),p=d.slice(j,m),o=a+q+g+'<span class="more-text">'+p+h+"</span>"),b.append(o),b.find(".read-more").on("click",function(){$(this).hide(),b.find(".more-text").addClass("show").slideDown(),b.find(".ellipsis").hide()}),b.find(".read-less").on("click",function(){b.find(".read-more").show(),b.find(".more-text").hide().removeClass("show"),b.find(".ellipsis").show()})}}var g=angular.isUndefined(a.moreText)?' <a class="read-more">Read More...</a>':' <a class="read-more">'+a.moreText+"</a>",h=angular.isUndefined(a.lessText)?' <a class="read-less">Less ^</a>':' <a class="read-less">'+a.lessText+"</a>",i=angular.isUndefined(a.ellipsis)?"":a.ellipsis,j=angular.isUndefined(a.limit)?150:a.limit;c.$observe("content",function(a){f(a)}),e(a.$parent,function(a,b){f(a.text().trim())})}}}angular.module("readMore",[]).directive("readMore",a)}();